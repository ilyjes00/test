<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var reg_name = RegExp(/^[가-힣]{2,10}$/);
        var reg_id = RegExp(/^[a-zA-Z]+[0-9a-zA-Z]{5,15}$/);
        var reg_pw = RegExp(/^.*(?=^.{9,15}$)(?=.*\d)(?=.*[a-z])(?=.*[~!@#$%^&*()_+{}|:<>?]).*$/);
        var reg_birth = RegExp(/^\d{6}$/);
        var reg_phone = RegExp(/^\d{3}-\d{4}-\d{4}$/);
        var reg_email = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
​

        function empty_validate(target, msg){
            if(target.value == "");{
            alert(msg);
            target.focus();
            return false;
            }
        }
        //정규식 유형성검사 함수
        /*
        re : 정규식개체 , target: 정규식 검사필드태그 참조 data: 필드의 값 , msg: 유효성검사 메세지
        */
        function reg_validate(re, target, data, msg){
            if(!re.test(target.value)) {
                target.focus();
                alert("msg");
                return;
            }
        }
        function reg_id(){
            const u_id =document.getElementById("u_id")
            if(u_id.value == ""){
                target.focus();
                alert("아이디를 입력하세요");
                return;
            }
        }

        function validation() {
            let u_id = document.getElementById("u_id");
            let u_pw = document.getElementById("u_pw");
            let u_name = document.getElementById("u_name");
            let u_addr = document.getElementById("u_addr");

            //취미체크 여부
            let u_hobby1 = document.getElementById("u_hobby1");
            let u_hobby2 = document.getElementById("u_hobby2");
            let u_hobby3 = document.getElementById("u_hobby3");
            let u_hobby4 = document.getElementById("u_hobby4");

            let agree1 = document.getElementById("agree1");
            let agree2 = document.getElementById("agree2");

            // 아이디 입력값 검사
            if(u_id.value == "") {
                alert("아이디 입력요망");
                u_id.focus();
                return;
            }

            // 비밀번호 입력값 검사 
            if(u_pw.value == "") {
                alert("비밀번호 입력요망");
                u_pw.focus();
                return;
            }

            // 이름 입력값 검사
            if(u_name.value == "") {
                alert("이름 입력요망");
                u_name.focus();
                return;
            }
            // 주소 입력값 검사
            if(u_addr.value == "") {
                alert("주소 입력요망");
                u_addr.focus();
                return;
            }

            // 취미체크 검사
            let isHobbyChecked = false;

            
            /*
            if(u_hobby1.checked == true) {
                isHobbyChecked = true;
            }

            if(u_hobby2.checked == true) {
                isHobbyChecked = true;
            }

            if(u_hobby3.checked == true) {
                isHobbyChecked = true;
            }

            if(u_hobby4.checked == true) {
                isHobbyChecked = true;
            }
            */

            console.log("length",document.getElementsByName("u_hobby").length);

            let u_hobby = document.getElementsByName("u_hobby");
            for(let i=0; i < u_hobby.length; i++) {
                if(u_hobby[i].checked == true) {
                    isHobbyChecked = true;
                }
            }

            // 취미가 1개라도 선택이 안되어있으면
            if(!isHobbyChecked) {
                alert("취미를 1개라도 선택요망");
                return;
            }

            //메일수신 여부
            if(!agree1.checked && !agree2.checked) {
                alert("메일 수신여부를 선택요망");
                return;
            }

            alert("유효성 검사성공");

            document.forms[0].submit();
        }
    </script>
</head>
<body>
    <h1>회원가입</h1>
    <form id="joinFrm" action="join_ok.html" method="post">
        ID : <input type="text" id="u_id" name="u_id"><br>
        PW : <input type="password" id="u_pw" name="u_pw"><br>
        Name : <input type="text" id="u_name" name="u_name"><br>
        Addr : <input type="text" id="u_addr" name="u_addr"><br>
        hobby : 
        <label for="u_hobby1">자바</label><input type="checkbox" id="u_hobby1" name="u_hobby">
        <label for="u_hobby2">스프링</label><input type="checkbox" id="u_hobby2" name="u_hobby">
        <label for="u_hobby3">오라클</label><input type="checkbox" id="u_hobby3" name="u_hobby">
        <label for="u_hobby4">포트폴리오</label><input type="checkbox" id="u_hobby4" name="u_hobby">
        <label for="u_hobby5">리액트</label><input type="checkbox" id="u_hobby5" name="u_hobby">
        <label for="u_hobby6">Node.js</label><input type="checkbox" id="u_hobby6" name="u_hobby">
        <label for="u_hobby7">mybatis</label><input type="checkbox" id="u_hobby7" name="u_hobby">
        <label for="u_hobby8">log4jdbc</label><input type="checkbox" id="u_hobby8" name="u_hobby">
        
        <br>
        Mail agree : <label for="agree1">동의</label><input type="radio" name="agree" id="agree1">
                <label for="agree2">동의</label><input type="radio" name="agree" id="agree2"><br>
        <input type="button" value="전송" onclick="validation()">
    </form>
</body>
</html>